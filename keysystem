--// VoidHub Key GUI Script with Animations, Minimize, & Rainbow Top Bar
local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer
local UIS = game:GetService("UserInputService")
local TweenService = game:GetService("TweenService")
local SetClipboard = setclipboard or toclipboard or (Clipboard and Clipboard.set)

local keyFileName = "niggers12341.txt"

-- Rainbow function
local function rainbowColor(time)
	local r = math.sin(time) * 127 + 128
	local g = math.sin(time + 2) * 127 + 128
	local b = math.sin(time + 4) * 127 + 128
	return Color3.fromRGB(r, g, b)
end

-- Valid keys
local validKeys = {
	["jnco123"] = true,
	["hg7b-33kw-void-h3b"] = true
}

-- Notification Function
local function createNotification(titleText)
	local notif = Instance.new("Frame")
	notif.Size = UDim2.new(0, 200, 0, 40)
	notif.Position = UDim2.new(1, 10, 1, -60)
	notif.AnchorPoint = Vector2.new(1, 1)
	notif.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
	notif.BorderSizePixel = 0
	notif.ZIndex = 20
	Instance.new("UICorner", notif).CornerRadius = UDim.new(0, 6)
	notif.Parent = game:GetService("CoreGui")

	local label = Instance.new("TextLabel")
	label.Size = UDim2.new(1, -10, 1, 0)
	label.Position = UDim2.new(0, 5, 0, 0)
	label.BackgroundTransparency = 1
	label.Font = Enum.Font.GothamBold
	label.TextSize = 14
	label.TextColor3 = Color3.fromRGB(255, 255, 255)
	label.Text = titleText
	label.ZIndex = 21
	label.Parent = notif

	TweenService:Create(notif, TweenInfo.new(0.4, Enum.EasingStyle.Quad), {Position = UDim2.new(1, -10, 1, -60)}):Play()
	task.delay(2, function()
		local tween = TweenService:Create(notif, TweenInfo.new(0.4, Enum.EasingStyle.Quad), {Position = UDim2.new(1, 210, 1, -60)})
		tween:Play()
		tween.Completed:Connect(function() notif:Destroy() end)
	end)
end

-- Check saved key
local savedKey
if pcall(function() return readfile end) and isfile(keyFileName) then
	local content = readfile(keyFileName)
	if validKeys[content] then
		savedKey = content
	end
end

if savedKey then
	createNotification("Key saved")
	task.wait(1)
	loadstring(game:HttpGet("https://raw.githubusercontent.com/jycorb/ssfefsvoidhb/refs/heads/main/universalvoidhubrayfield?8-28832jjjd-j5499fjs-m3mmdns-388dskk-34iisd?4443sdsdd"))()
	return
end

--// GUI Creation
local gui = Instance.new("ScreenGui")
gui.Name = "VoidHubKeyGUI"
gui.ZIndexBehavior = Enum.ZIndexBehavior.Global
gui.ResetOnSpawn = false
gui.Parent = LocalPlayer:WaitForChild("PlayerGui")

--// Main Frame
local frame = Instance.new("Frame")
frame.Size = UDim2.new(0, 300, 0, 200)
frame.Position = UDim2.new(0.5, -150, 0.5, -100)
frame.BackgroundColor3 = Color3.fromRGB(25, 25, 25)
frame.BorderSizePixel = 0
frame.ZIndex = 10
frame.Parent = gui
Instance.new("UICorner", frame).CornerRadius = UDim.new(0, 6)

--// Top Bar
local topBar = Instance.new("Frame")
topBar.Size = UDim2.new(1, 0, 0, 30)
topBar.BackgroundTransparency = 0.5
topBar.BorderSizePixel = 0
topBar.Parent = frame
Instance.new("UICorner", topBar).CornerRadius = UDim.new(0, 6)

task.spawn(function()
	while topBar.Parent do
		topBar.BackgroundColor3 = rainbowColor(tick())
		task.wait(0.05)
	end
end)

--// Title
local title = Instance.new("TextLabel")
title.Text = "VoidHub Key"
title.Font = Enum.Font.GothamBold
title.TextSize = 20
title.TextColor3 = Color3.fromRGB(255, 255, 255)
title.BackgroundTransparency = 1
title.Size = UDim2.new(1, -30, 1, 0)
title.Position = UDim2.new(0, 0, 0, 0)
title.ZIndex = 10
title.Parent = topBar

--// Minimize Button
local minimize = Instance.new("TextButton")
minimize.Text = "-"
minimize.Font = Enum.Font.GothamBold
minimize.TextSize = 20
minimize.TextColor3 = Color3.fromRGB(255, 255, 255)
minimize.BackgroundTransparency = 1
minimize.Size = UDim2.new(0, 30, 1, 0)
minimize.Position = UDim2.new(1, -30, 0, 0)
minimize.ZIndex = 10
minimize.Parent = topBar

--// Description
local desc = Instance.new("TextLabel")
desc.Text = "You need a key.."
desc.Font = Enum.Font.Gotham
desc.TextSize = 14
desc.TextColor3 = Color3.fromRGB(200, 200, 200)
desc.BackgroundTransparency = 1
desc.Size = UDim2.new(1, 0, 0, 20)
desc.Position = UDim2.new(0, 0, 0, 40)
desc.ZIndex = 10
desc.Parent = frame

--// Input Box
local textbox = Instance.new("TextBox")
textbox.PlaceholderText = "Enter Key"
textbox.Font = Enum.Font.Gotham
textbox.TextSize = 14
textbox.Text = ""
textbox.TextColor3 = Color3.fromRGB(255, 255, 255)
textbox.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
textbox.BorderSizePixel = 0
textbox.Size = UDim2.new(1, -20, 0, 30)
textbox.Position = UDim2.new(0, 10, 0, 70)
textbox.ZIndex = 10
textbox.Parent = frame
Instance.new("UICorner", textbox).CornerRadius = UDim.new(0, 4)

--// Submit Button
local submit = Instance.new("TextButton")
submit.Text = "Submit"
submit.Font = Enum.Font.GothamBold
submit.TextSize = 14
submit.TextColor3 = Color3.fromRGB(255, 255, 255)
submit.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
submit.BorderSizePixel = 0
submit.Size = UDim2.new(1, -20, 0, 30)
submit.Position = UDim2.new(0, 10, 0, 110)
submit.ZIndex = 10
submit.Parent = frame
Instance.new("UICorner", submit).CornerRadius = UDim.new(0, 4)

--// Get Key Button
local getKey = Instance.new("TextButton")
getKey.Text = "Get Key"
getKey.Font = Enum.Font.GothamBold
getKey.TextSize = 14
getKey.TextColor3 = Color3.fromRGB(255, 255, 255)
getKey.BackgroundColor3 = Color3.fromRGB(88, 101, 242)
getKey.BorderSizePixel = 0
getKey.Size = UDim2.new(1, -20, 0, 30)
getKey.Position = UDim2.new(0, 10, 0, 150)
getKey.ZIndex = 10
getKey.Parent = frame
Instance.new("UICorner", getKey).CornerRadius = UDim.new(0, 4)

-- Dragging (PC & Mobile)
local dragging, dragInput, dragStart, startPos
local function update(input)
	local delta = input.Position - dragStart
	frame.Position = UDim2.new(startPos.X.Scale, startPos.X.Offset + delta.X,
		startPos.Y.Scale, startPos.Y.Offset + delta.Y)
end
topBar.InputBegan:Connect(function(input)
	if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
		dragging = true
		dragStart = input.Position
		startPos = frame.Position
		input.Changed:Connect(function()
			if input.UserInputState == Enum.UserInputState.End then
				dragging = false
			end
		end)
	end
end)
topBar.InputChanged:Connect(function(input)
	if input.UserInputType == Enum.UserInputType.MouseMovement or input.UserInputType == Enum.UserInputType.Touch then
		dragInput = input
	end
end)
UIS.InputChanged:Connect(function(input)
	if input == dragInput and dragging then
		update(input)
	end
end)

-- Minimize logic
local minimized = false
local normalSize = frame.Size
local minimizedSize = UDim2.new(0, normalSize.X.Offset * 0.5, 0, 30)

minimize.MouseButton1Click:Connect(function()
	if not minimized then
		desc.Visible = false
		textbox.Visible = false
		submit.Visible = false
		getKey.Visible = false
		local shrinkHeight = TweenService:Create(frame, TweenInfo.new(0.4, Enum.EasingStyle.Quad), {Size = UDim2.new(normalSize.X.Scale, normalSize.X.Offset, 0, 30)})
		shrinkHeight:Play()
		shrinkHeight.Completed:Wait()
		TweenService:Create(frame, TweenInfo.new(0.4, Enum.EasingStyle.Quad), {Size = minimizedSize}):Play()
	else
		local expandWidth = TweenService:Create(frame, TweenInfo.new(0.4, Enum.EasingStyle.Quad), {Size = UDim2.new(normalSize.X.Scale, normalSize.X.Offset, 0, 30)})
		expandWidth:Play()
		expandWidth.Completed:Wait()
		TweenService:Create(frame, TweenInfo.new(0.4, Enum.EasingStyle.Quad), {Size = normalSize}):Play()
		task.delay(0.8, function()
			desc.Visible = true
			textbox.Visible = true
			submit.Visible = true
			getKey.Visible = true
		end)
	end
	minimized = not minimized
end)

-- Shake animation
local function shakeFrame()
	local pos = frame.Position
	for i = 1, 2 do
		TweenService:Create(frame, TweenInfo.new(0.05), {Position = pos + UDim2.new(0, 10, 0, 0)}):Play()
		task.wait(0.05)
		TweenService:Create(frame, TweenInfo.new(0.05), {Position = pos - UDim2.new(0, 10, 0, 0)}):Play()
		task.wait(0.05)
	end
	TweenService:Create(frame, TweenInfo.new(0.05), {Position = pos}):Play()
end

-- Submit logic
submit.MouseButton1Click:Connect(function()
	local key = textbox.Text
	if validKeys[key] then
		if pcall(function() return writefile end) then
			writefile(keyFileName, key)
		end
		textbox.Text = "Key Found"
		task.wait(0.4)
		createNotification("Key saved")
		task.wait(1)
		gui:Destroy()
		loadstring(game:HttpGet("https://raw.githubusercontent.com/jycorb/ssfefsvoidhb/refs/heads/main/universalvoidhubrayfield?8-28832jjjd-j5499fjs-m3mmdns-388dskk-34iisd?4443sdsdd"))()
	else
		textbox.Text = ""
		textbox.PlaceholderText = "Invalid Key!"
		shakeFrame()
	end
end)

-- Get Key button logic
getKey.MouseButton1Click:Connect(function()
	if SetClipboard then
		SetClipboard("https://lootdest.org/s?5UBgUtSK")
		createNotification("Key link copied")
	else
		textbox.PlaceholderText = "Clipboard unsupported"
	end
end)
